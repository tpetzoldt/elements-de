<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Thomas Petzoldt">
  <meta name="dcterms.date" content="2025-09-16">
  <title>Elemente der statistischen Datenanalyse und Statistik mit R – x1-R Basics</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-cb13c09ad5a7270edb89df8c4c84031f.css">
  <link rel="stylesheet" href="../thpe.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <style>
  #title-slide 
    .title {color: #cef0ffff;}
    .subtitle {color: #ee7f00;}
    .quarto-title-author {color: #69af22;}
    .date {color: #69af22;}
  </style>  
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" body-color="#ffffff" data-background-image="../img/tud-title-bg-wide-2021.png" class="quarto-title-block center">
  <h1 class="title">x1-R Basics</h1>
  <p class="subtitle">Angewandte Statistik – Ein Praxiskurs</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Thomas Petzoldt 
</div>
</div>
</div>

  <p class="date">2025-09-16</p>
</section>
<section id="prerequisites" class="title-slide slide level1 center">
<h1>Prerequisites</h1>
<ol type="1">
<li>Install R 4.x from the <a href="https://cran.r-project.org">CRAN</a> server: e.g.&nbsp;<a href="https://cloud.r-project.org/">https://cloud.r-project.org/</a></li>
<li>Install a recent version of RStudio: <a href="https://posit.co/download/rstudio-desktop/">https://posit.co/download/rstudio-desktop/</a></li>
</ol>
<ul>
<li>R and RStudio are available for Linux, Windows and MacOS</li>
<li>Install <strong>R</strong> first and <strong>RStudio</strong> second</li>
</ul>
</section>

<section>
<section id="outline" class="title-slide slide level1 center">
<h1>Outline</h1>
<ol type="1">
<li>Expressions and assignments</li>
<li>Elements of the R language</li>
<li>Data objects: vectors, matrices, algebra</li>
<li>Data import</li>
<li>Lists</li>
<li>Loops and conditional execution</li>
<li>Further reading</li>
</ol>
</section>
<section id="r-is-more-convenient-with-rstudio" class="slide level2">
<h2>R is more convenient with RStudio</h2>

<img data-src="../img/rstudio.png" class="r-stretch"></section>
<section id="r-and-rstudio" class="slide level2">
<h2>R and RStudio</h2>
<p><br></p>
<p><strong>Engine and Control</strong></p>
<ul>
<li><strong>R</strong> The main engine for computations and graphics.</li>
<li><strong>Rstudio</strong> the IDE (integrated development environment) that embeds and controls <strong>R</strong> and provides additional facilities.</li>
<li><span class="gray"><strong>R</strong> can also be used without RStudio.</span></li>
</ul>
<p><br></p>
<p><strong>Citation</strong></p>
<p>Cite <strong>R</strong> and optionally <strong>RStudio</strong>.</p>
<p>R Core Team (2022). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. <a href="https://www.R-project.org/">https://www.R-project.org/</a></p>
<p>RStudio Team (2022). RStudio: Integrated Development Environment for R. RStudio, PBC, Boston, MA URL <a href="http://www.rstudio.com/">http://www.rstudio.com/</a></p>
</section></section>
<section>
<section id="elements-of-the-r-language" class="title-slide slide level1 center">
<h1>Elements of the <strong>R</strong> language</h1>

</section>
<section id="expressions-and-assignments" class="slide level2">
<h2>Expressions and Assignments</h2>
<p><br></p>
<div class="column add-space" style="width:47%;">
<p><strong>Expression</strong></p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> pi <span class="sc">+</span> <span class="fu">exp</span>(<span class="fl">1.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.332355</code></pre>
</div>
</div>
</div>
<ul>
<li>result is printed to the screen</li>
<li>the <code>[1]</code> indicates that the value shown at the beginning of the line is the first (and here the only) element</li>
</ul>
</div><div class="column" style="width:47%;">
<p><strong>Assignment</strong></p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> pi <span class="sc">+</span> <span class="fu">exp</span>(<span class="fl">1.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<ul>
<li>The expression on the left hand side is assigned to the variable on the right.</li>
<li>The arrow is spelled as “a gets …”</li>
<li>To avoid confusion: use <code>&lt;-</code> for assignment and let <code>=</code> for parameter matching</li>
</ul>
</div></section>
<section id="constants-variables-and-assignments" class="slide level2">
<h2>Constants, variables and assignments</h2>
<p>Assignment of constants and variables to a variable</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">1.3</span>      <span class="co"># numeric constant</span></span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">"hello"</span>  <span class="co"># character constant</span></span>
<span id="cb4-3"><a aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> x        <span class="co"># a and x both variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Assignment in opposite direction (rarely used)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">-&gt;</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Multiple assignment</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> a <span class="ot">&lt;-</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>Do not use the following constructs</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Equal sign has two meanings: parameter matching and assignment</span></span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a><span class="co"># - Don't use it for assignment!</span></span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> a</span>
<span id="cb7-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a aria-hidden="true" tabindex="-1"></a><span class="co"># Super assignment, useful for programmers in special cases</span></span>
<span id="cb7-6"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;&lt;-</span> <span class="dv">2</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="objects-constants-variables" class="slide level2">
<h2>Objects, constants, variables</h2>
<ul>
<li>Everything stored in R’s memory is an <strong>object</strong>:
<ul>
<li>can be simple or complex</li>
<li>can be constants or variables</li>
<li><strong>constants</strong>: 1, 123, 5.6, 5e7, “hello”</li>
<li><strong>variables</strong>: can change their value, are referenced by variable names</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">2.0</span> <span class="co"># x is a variable, 2.0 is a constant</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>A syntactically valid variable name consists of:</strong></p>
<ul>
<li>letters, numbers, underline (_), dot (.)</li>
<li>starts with a letter or the dot</li>
<li>if starting with the dot, not followed by a number</li>
</ul>
<p>Special characters, except _ and . (underscore and dot) are not allowed.</p>
<p>International characters (e.g German umlauts ä, ö, ü, …) are possible, but not recommended.</p>
</section>
<section id="allowed-and-disallowed-identifiers" class="slide level2">
<h2>Allowed and disallowed identifiers</h2>
<p><br></p>
<p><strong>correct:</strong></p>
<ul>
<li><code>x, y, X, x1, i, j, k</code></li>
<li><code>value, test, myVariableName, do_something</code></li>
<li>`.hidden, .x1``</li>
</ul>
<p><strong>forbidden:</strong></p>
<ul>
<li><code>1x, .1x</code> (starts with a number)</li>
<li><code>!, @, \$, #</code>, space, comma, semicolon and other special characters</li>
</ul>
<p><strong>reserved words</strong> cannot be used as variable names:</p>
<ul>
<li><code>if, else, repeat, while, function, for, in, next, break</code></li>
<li><code>TRUE, FALSE, NULL, Inf, NaN, NA, NA_integer_, NA_real_, NA_complex_, NA_character\_</code></li>
<li><code>..., ..1, ..2</code></li>
</ul>
<p><strong>Note:</strong> R is case sensitive, <code>x</code> and <code>X</code>, <code>value</code> and <code>Value</code> are different.</p>
</section>
<section id="operators" class="slide level2">
<h2>Operators</h2>
<div class="column" style="width:49%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">operator</th>
<th style="text-align: left;">symbol</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Addition</td>
<td style="text-align: left;">+</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subtraction</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Negation</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="even">
<td style="text-align: left;">Multiplication</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Division</td>
<td style="text-align: left;">/</td>
</tr>
<tr class="even">
<td style="text-align: left;">Modulo</td>
<td style="text-align: left;">%%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Integer Divison</td>
<td style="text-align: left;">%/%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Power</td>
<td style="text-align: left;">^</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Matrix product</td>
<td style="text-align: left;">%*%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Outer product</td>
<td style="text-align: left;">%o%</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column" style="width:49%;">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">operator</th>
<th style="text-align: left;">symbol</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Negation</td>
<td style="text-align: left;">!</td>
</tr>
<tr class="even">
<td style="text-align: left;">And</td>
<td style="text-align: left;">&amp;</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Or</td>
<td style="text-align: left;">|</td>
</tr>
<tr class="even">
<td style="text-align: left;">Equal</td>
<td style="text-align: left;">==</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unequal</td>
<td style="text-align: left;">!=</td>
</tr>
<tr class="even">
<td style="text-align: left;">Less than</td>
<td style="text-align: left;">&lt;</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Greater than</td>
<td style="text-align: left;">&gt;</td>
</tr>
<tr class="even">
<td style="text-align: left;">Less or equal</td>
<td style="text-align: left;">&lt;=</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Greater or equal</td>
<td style="text-align: left;">&gt;=</td>
</tr>
<tr class="even">
<td style="text-align: left;">Assignment</td>
<td style="text-align: left;">&lt;-</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Element of a list</td>
<td style="text-align: left;">$</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pipeline</td>
<td style="text-align: left;">|&gt;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><p>… and more</p>
</section>
<section id="functions" class="slide level2">
<h2>Functions</h2>
<p><strong>Pre-defined functions:</strong></p>
<ul>
<li>with return value: <code>sin(x)</code>, <code>log(x)</code></li>
<li>with side effect: <code>plot(x)</code>, <code>print(x)</code></li>
<li>with both return value and side efect: <code>hist(x)</code></li>
</ul>
<p><strong>Arguments:</strong> mandatory or optional, un-named or named</p>
<ul>
<li><code>plot(1:4, c(3, 4, 3, 6), type = "l", col = "red")</code></li>
<li>if named arguments are used (with the “=” sign), argument order does not matter</li>
</ul>
<p><strong>User-defined functions:</strong></p>
<ul>
<li>can be used to extend R</li>
<li>will be discussed later</li>
</ul>
<p><span class="math inline">\(\rightarrow\)</span> Functions have always a name followed by arguments in round parentheses.</p>
</section>
<section id="parentheses" class="slide level2">
<h2>Parentheses</h2>

<img data-src="../img/parentheses.png" class="r-stretch"></section></section>
<section>
<section id="data-objects" class="title-slide slide level1 center">
<h1>Data objects</h1>
<ul>
<li>different classes: <code>vector</code>, <code>matrix</code>, <code>list</code>, <code>data.frame</code>, …</li>
<li>content: numbers, text, maps, sound, images, videos.</li>
</ul>
<p>We start with vectors, matrices and arrays, and data frames.</p>
</section>
<section id="vectors-matrices-and-arrays" class="slide level2">
<h2>Vectors, matrices and arrays</h2>
<ul>
<li><p>vectors = 1D, matrices = 2D and arrays = n-dimensional</p></li>
<li><p>data are arranged into rows, columns, layers, …</p></li>
<li><p>data filled in <span class="blue">column-wise</span>, can be changed</p></li>
<li><p>create vector</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb9-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
</div>
<ul>
<li>convert it to matrix</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(x, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb11-2"><a aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    6   11   16
[2,]    2    7   12   17
[3,]    3    8   13   18
[4,]    4    9   14   19
[5,]    5   10   15   20</code></pre>
</div>
</div>
<ul>
<li>back-convert (flatten) to vector</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">as.vector</span>(y) <span class="co"># flattens the matrix to a vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
</div>
</section>
<section id="vectors-matrices-and-arrays-ii" class="slide level2">
<h2>Vectors, matrices and arrays II</h2>
<ul>
<li><strong>recycling rule</strong> if the number of elements is too small</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">4</span>)</span>
<span id="cb15-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    0    0    0    0
[2,]    0    0    0    0
[3,]    0    0    0    0
[4,]    0    0    0    0
[5,]    0    0    0    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">4</span>)</span>
<span id="cb17-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    2    3    4    1
[3,]    3    4    1    2
[4,]    4    1    2    3
[5,]    1    2    3    4</code></pre>
</div>
</div>
</section>
<section id="transpose-rows-and-columns" class="slide level2">
<h2>Transpose rows and columns</h2>
<ul>
<li><strong>row-wise</strong> creation of a matrix</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    5    6    7    8
[3,]    9   10   11   12
[4,]   13   14   15   16
[5,]   17   18   19   20</code></pre>
</div>
</div>
<ul>
<li><strong>transpose</strong> of a matrix</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">t</span>(x)</span>
<span id="cb21-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    5    9   13   17
[2,]    2    6   10   14   18
[3,]    3    7   11   15   19
[4,]    4    8   12   16   20</code></pre>
</div>
</div>
</section>
<section id="access-array-elements" class="slide level2">
<h2>Access array elements</h2>
<div class="column" style="width:44%;">
<ul>
<li>a three dimensional <strong>array</strong></li>
<li>row, column, layer/page</li>
<li>sub-matrices (slices)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="at">dim=</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>))</span>
<span id="cb23-2"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, , 1

     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12

, , 2

     [,1] [,2] [,3] [,4]
[1,]   13   16   19   22
[2,]   14   17   20   23
[3,]   15   18   21   24</code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:44%;">
<ul>
<li><strong>elements</strong> of a matrix or array</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>] <span class="co"># single element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a>x[ , <span class="dv">3</span>, <span class="dv">1</span>] <span class="co"># 3rd column of 1st layer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7 8 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a>x[ ,  , <span class="dv">2</span>] <span class="co"># second layer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]   13   16   19   22
[2,]   14   17   20   23
[3,]   15   18   21   24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>,  ,  ] <span class="co"># another slice</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1   13
[2,]    4   16
[3,]    7   19
[4,]   10   22</code></pre>
</div>
</div>
</div></section>
<section id="reordering-and-indirect-indexing" class="slide level2">
<h2>Reordering and indirect indexing</h2>
<div class="column" style="width:49%;">
<p>Original matrix</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    5    9   13   17
[2,]    2    6   10   14   18
[3,]    3    7   11   15   19
[4,]    4    8   12   16   20</code></pre>
</div>
</div>
<p>Inverted row order</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="dv">4</span><span class="sc">:</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    4    8   12   16   20
[2,]    3    7   11   15   19
[3,]    2    6   10   14   18
[4,]    1    5    9   13   17</code></pre>
</div>
</div>
</div><div class="column" style="width:49%;">
<p>Indirect index</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">4</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    9    5   17   13
[2,]    2   10    6   18   14
[3,]    1    9    5   17   13
[4,]    2   10    6   18   14</code></pre>
</div>
</div>
<p>Logical selection</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    2    6   10   14   18
[2,]    4    8   12   16   20</code></pre>
</div>
</div>
<p>Surprise?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    5    9   13   17
[2,]    1    5    9   13   17</code></pre>
</div>
</div>
</div></section></section>
<section>
<section id="matrix-algebra" class="title-slide slide level1 center">
<h1>Matrix algebra</h1>
<div class="column" style="width:49%;">
<p>Matrix</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,   <span class="at">nrow =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    3
[2,]    2    4</code></pre>
</div>
</div>
<p>Diagonal matrix</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a aria-hidden="true" tabindex="-1"></a>(y <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    0
[2,]    0    1</code></pre>
</div>
</div>
<p>Element wise addition and multiplication</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> (y <span class="sc">+</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    2    3
[2,]    2    8</code></pre>
</div>
</div>
</div><div class="column" style="width:49%;">
<p>Outer product (and sum)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span> <span class="sc">%o%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    2    3    4
[2,]    2    4    6    8
[3,]    3    6    9   12
[4,]    4    8   12   16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">outer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">FUN =</span> <span class="st">"+"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    2    3    4    5
[2,]    3    4    5    6
[3,]    4    5    6    7
[4,]    5    6    7    8</code></pre>
</div>
</div>
<p>Matrix multiplication</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="sc">%*%</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    3
[2,]    2    4</code></pre>
</div>
</div>
</div></section>
<section id="matrix-multiplication-explained" class="slide level2">
<h2>Matrix multiplication explained</h2>
<p><br></p>
<div class="column" style="width:49%;">
<p>Two matrices: A and B</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb55-2"><a aria-hidden="true" tabindex="-1"></a>              <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">2</span>), </span>
<span id="cb55-3"><a aria-hidden="true" tabindex="-1"></a>            <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb55-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>,</span>
<span id="cb55-6"><a aria-hidden="true" tabindex="-1"></a>              <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb55-7"><a aria-hidden="true" tabindex="-1"></a>              <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>), </span>
<span id="cb55-8"><a aria-hidden="true" tabindex="-1"></a>            <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Multiplication: <span class="math inline">\(A \cdot B\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a aria-hidden="true" tabindex="-1"></a>A <span class="sc">%*%</span> B</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]   22   21   20   14
[2,]   35   44   37   32</code></pre>
</div>
</div>
</div><div class="column" style="width:49%;">
<p><img data-src="../img/matrix-multiplication.svg"></p>
</div></section>
<section id="transpose-and-inverse" class="slide level2">
<h2>Transpose and inverse</h2>
<p>Matrix</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, </span>
<span id="cb58-2"><a aria-hidden="true" tabindex="-1"></a>              <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, </span>
<span id="cb58-3"><a aria-hidden="true" tabindex="-1"></a>              <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">6</span>),</span>
<span id="cb58-4"><a aria-hidden="true" tabindex="-1"></a>            <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb58-5"><a aria-hidden="true" tabindex="-1"></a>X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    4    5
[2,]    2    3    4
[3,]    3    2    6</code></pre>
</div>
</div>
<p>Transpose</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    3    2
[3,]    5    4    6</code></pre>
</div>
</div>
<p>Inverse (<span class="math inline">\(X^{-1}\)</span>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>        [,1]    [,2]    [,3]
[1,] -0.6667  0.9333 -0.0667
[2,]  0.0000  0.6000 -0.4000
[3,]  0.3333 -0.6667  0.3333</code></pre>
</div>
</div>
</section>
<section id="multiplication-of-a-matrix-with-its-inverse" class="slide level2">
<h2>Multiplication of a matrix with its inverse</h2>
<p><br></p>
<div class="hugefont">
<p><span class="math display">\[X \cdot X^{-1} = I\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a aria-hidden="true" tabindex="-1"></a>X <span class="sc">%*%</span> <span class="fu">solve</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    0    0
[2,]    0    1    0
[3,]    0    0    1</code></pre>
</div>
</div>
</div>
<p><br></p>
<p><span class="math inline">\(I\)</span>: identity matrix</p>
</section>
<section id="linear-system-of-equations" class="slide level2">
<h2>Linear system of equations</h2>
<p><br></p>
<p><span class="math display">\[\begin{align}
3x &amp;&amp; +  &amp;&amp; 2y   &amp;&amp; -  &amp;&amp; z  &amp;&amp; =  &amp;&amp; 1 \\
2x &amp;&amp; -  &amp;&amp; 2y   &amp;&amp; +  &amp;&amp; 4z &amp;&amp; =  &amp;&amp; -2 \\
-x &amp;&amp; +  &amp;&amp; 1/2y &amp;&amp; -  &amp;&amp; z  &amp;&amp; =  &amp;&amp; 0
\end{align}\]</span></p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">3</span>,  <span class="dv">2</span>,   <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb66-2"><a aria-hidden="true" tabindex="-1"></a>             <span class="dv">2</span>,  <span class="sc">-</span><span class="dv">2</span>,    <span class="dv">4</span>,</span>
<span id="cb66-3"><a aria-hidden="true" tabindex="-1"></a>            <span class="sc">-</span><span class="dv">1</span>,   <span class="fl">0.5</span>, <span class="sc">-</span><span class="dv">1</span>), <span class="at">nrow=</span><span class="dv">3</span>, <span class="at">byrow=</span><span class="cn">TRUE</span>)</span>
<span id="cb66-4"><a aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><span class="math display">\[\begin{align}
Ax &amp;= b\\
x  &amp;= A^{-1}b
\end{align}\]</span></p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">solve</span>(A) <span class="sc">%*%</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]
[1,]    1
[2,]   -2
[3,]   -2</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="data-frames-and-data-import" class="title-slide slide level1 center">
<h1>Data frames and data import</h1>

</section>
<section id="data-frames" class="slide level2">
<h2>Data frames</h2>
<ul>
<li>represent tabular data</li>
<li>similar to matrices, but different types of data in <strong>columns</strong> possible</li>
<li>typically imported from a file with <code>read.table</code> or <code>read.csv</code></li>
</ul>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"cities.csv"</span>)</span>
<span id="cb69-2"><a aria-hidden="true" tabindex="-1"></a>cities</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>               Name    Country Population Latitude Longitude IsCapital
1  Fürstenfeldbruck    Germany      34033  48.1690   11.2340     FALSE
2             Dhaka Bangladesh   13000000  23.7500   90.3700      TRUE
3       Ulaanbaatar   Mongolia    3010000  47.9170  106.8830      TRUE
4           Shantou      China    5320000  23.3500  116.6700     FALSE
5           Kampala     Uganda    1659000   0.3310   32.5830      TRUE
6           Cottbus    Germany     100000  51.7650   14.3280     FALSE
7           Nairobi      Kenya    3100000   1.2833   36.8167      TRUE
8             Hanoi    Vietnam    1452055  21.0300  105.8400      TRUE
9          Bacgiang    Vietnam      53739  21.2800  106.1900     FALSE
10       Addis Abba   Ethiopia    2823167   9.0300   38.7400      TRUE
11        Hyderabad      India    3632094  17.4000   78.4800     FALSE</code></pre>
</div>
</div>
<p><span class="math inline">\(\rightarrow\)</span> <a href="https://github.com/tpetzoldt/elements/tree/main/data">download</a> data set</p>
</section>
<section id="what-is-a-csv-file" class="slide level2">
<h2>What is a CSV file?</h2>
<ul>
<li>comma separated values.</li>
<li>first line contains column names</li>
<li>decimal is <code>dec="."</code>, column separator is <code>sep=","</code></li>
</ul>
<p><strong>Example CSV file</strong> <span class="gray">(Data from Wikipedia, 2023)</span></p>
<div class="bigfont">
<pre><code>Name,Country,Population,Latitude,Longitude
Dhaka,Bangladesh,10278882,23.75,90.37
Ulaanbaatar,Mongolia,1672627,47.917,106.883
Shantou,China,5502031,23.35,116.67
Kampala,Uganda,1680600,0.331,32.583
Berlin,Germany,3850809,52.52,13.405
Nairobi,Kenya,4672000,1.2833,36.8167
Hanoi,Vietnam,8435700,21.03,105.84
Addis Abba,Ethiopia,3945000,9.03,38.74
Hyderabad,India,9482000,17.4,78.48</code></pre>
</div>
<p><strong>Hints</strong></p>
<ul>
<li>some countries use <code>dec = ","</code> and <code>sep = ";"</code></li>
<li>Excel may export mixed style with <code>dec = "."</code> and <code>sep = ";"</code></li>
<li>comments above the header line can be skipped</li>
</ul>
</section>
<section id="different-read-funktions" class="slide level2">
<h2>Different read-Funktions</h2>
<ul>
<li><strong>R</strong> contains several <code>read</code>-functions for different file types.</li>
<li>Some are more flexible, some more automatic, some faster, some more robust …</li>
</ul>
<p>To avoid confusion, we use only the following:</p>
<p><strong>Base R</strong></p>
<ul>
<li><code>read.table()</code>: this is the most flexible standard function, see help file for details</li>
<li><code>read.csv()</code>: default options for standard csv files (with <code>dec="."</code> and <code>sep=</code>,)</li>
</ul>
<p><strong>Tidyverse readr-package</strong></p>
<ul>
<li><code>read_delim()</code>: similar to <code>read.table()</code> but more modern, automatic and faster</li>
<li><code>read_csv()</code>: similar to <code>read.csv()</code> with more automatism, e.g.&nbsp;date detection</li>
</ul>
</section>
<section id="the-most-versatile-read.table" class="slide level2">
<h2>The most versatile: <code>read.table()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>(file, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">sep =</span> <span class="st">""</span>, <span class="at">quote =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">'"</span>,</span>
<span id="cb72-2"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">dec =</span> <span class="st">"."</span>, <span class="at">numerals =</span> <span class="fu">c</span>(<span class="st">"allow.loss"</span>, <span class="st">"warn.loss"</span>, <span class="st">"no.loss"</span>),</span>
<span id="cb72-3"><a aria-hidden="true" tabindex="-1"></a>           row.names, col.names, <span class="at">as.is =</span> <span class="sc">!</span>stringsAsFactors, <span class="at">tryLogical =</span> <span class="cn">TRUE</span>,</span>
<span id="cb72-4"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">na.strings =</span> <span class="st">"NA"</span>, <span class="at">colClasses =</span> <span class="cn">NA</span>, <span class="at">nrows =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb72-5"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">skip =</span> <span class="dv">0</span>, <span class="at">check.names =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="sc">!</span>blank.lines.skip,</span>
<span id="cb72-6"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">strip.white =</span> <span class="cn">FALSE</span>, <span class="at">blank.lines.skip =</span> <span class="cn">TRUE</span>,</span>
<span id="cb72-7"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">comment.char =</span> <span class="st">"#"</span>,</span>
<span id="cb72-8"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">allowEscapes =</span> <span class="cn">FALSE</span>, <span class="at">flush =</span> <span class="cn">FALSE</span>,</span>
<span id="cb72-9"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>,</span>
<span id="cb72-10"><a aria-hidden="true" tabindex="-1"></a>           <span class="at">fileEncoding =</span> <span class="st">""</span>, <span class="at">encoding =</span> <span class="st">"unknown"</span>, text, <span class="at">skipNul =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Examples</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>(<span class="st">"cities.csv"</span>, <span class="at">sep =</span> <span class="st">","</span>,  <span class="at">dec =</span> <span class="st">"."</span>)  <span class="co"># same as read.csv</span></span>
<span id="cb73-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>(<span class="st">"cities.txt"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>, <span class="at">dec =</span> <span class="st">"."</span>)  <span class="co"># tab delimited</span></span>
<span id="cb73-3"><a aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>(<span class="st">"cities.csv"</span>, <span class="at">sep =</span> <span class="st">";"</span>,  <span class="at">dec =</span> <span class="st">","</span>)  <span class="co"># German csv</span></span>
<span id="cb73-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a aria-hidden="true" tabindex="-1"></a><span class="fu">read.table</span>(<span class="st">"cities.csv"</span>, <span class="at">sep =</span> <span class="st">","</span>, <span class="at">dec =</span> <span class="st">"."</span>, <span class="at">skip =</span> <span class="dv">5</span>) <span class="co"># skip first 5 lines</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="recommendation" class="slide level2">
<h2>Recommendation</h2>
<p><br></p>
<p>Most of our course examples are plain CSV files, so we can use <code>read.csv()</code> or <code>read_csv()</code>.</p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"readr"</span>)</span>
<span id="cb74-2"><a aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"cities.csv"</span>)</span>
<span id="cb74-3"><a aria-hidden="true" tabindex="-1"></a>cities</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 6
   Name             Country    Population Latitude Longitude IsCapital
   &lt;chr&gt;            &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;    
 1 Fürstenfeldbruck Germany         34033   48.2        11.2 FALSE    
 2 Dhaka            Bangladesh   13000000   23.8        90.4 TRUE     
 3 Ulaanbaatar      Mongolia      3010000   47.9       107.  TRUE     
 4 Shantou          China         5320000   23.4       117.  FALSE    
 5 Kampala          Uganda        1659000    0.331      32.6 TRUE     
 6 Cottbus          Germany        100000   51.8        14.3 FALSE    
 7 Nairobi          Kenya         3100000    1.28       36.8 TRUE     
 8 Hanoi            Vietnam       1452055   21.0       106.  TRUE     
 9 Bacgiang         Vietnam         53739   21.3       106.  FALSE    
10 Addis Abba       Ethiopia      2823167    9.03       38.7 TRUE     
11 Hyderabad        India         3632094   17.4        78.5 FALSE    </code></pre>
</div>
</div>
</section>
<section id="data-import-assistant-of-rstudio" class="slide level2">
<h2>Data import assistant of <strong>RStudio</strong></h2>
<p><br></p>
<p>File –&gt; Import Dataset</p>
<p>Several options are available:</p>
<ul>
<li>“From text (base)” uses the classical R functions</li>
<li>“From text (readr)” is more modern and uses an add-on package</li>
<li>“From Excel” can read Excel files if (and only if) they have a clear tabular structure</li>
</ul>
</section>
<section id="from-text-base" class="slide level2">
<h2>From text (base)</h2>

<img data-src="../img/rstudio-import-base.png" class="r-stretch"></section>
<section id="from-text-readr" class="slide level2">
<h2>From text (readr)</h2>

<img data-src="../img/rstudio-import-readr.png" class="r-stretch"></section>
<section id="save-data-to-excel-compatible-format" class="slide level2">
<h2>Save data to Excel-compatible format</h2>
<p>English number format (“.” as decimal):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(cities, <span class="st">"output.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">sep=</span><span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>German number format (“,” as decimal):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(cities, <span class="st">"output.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">sep=</span><span class="st">";"</span>, <span class="at">dec=</span><span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img data-src="../img/dataframe-excel.png"> ## Creation of data frames</p>
<p><br></p>
<ul>
<li>typical: read data from external file, e.g.&nbsp;<code>csv</code>-files.</li>
<li>small data frames can be created <strong>inline</strong> in a script</li>
</ul>
<p><strong>Inline creation of a data frame</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a aria-hidden="true" tabindex="-1"></a>clem <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb78-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">brand =</span> <span class="fu">c</span>(<span class="st">"EP"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, </span>
<span id="cb78-3"><a aria-hidden="true" tabindex="-1"></a>            <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EB"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EP"</span>, <span class="st">"EB"</span>, <span class="st">"EP"</span>),</span>
<span id="cb78-4"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">88</span>, <span class="dv">96</span>, <span class="dv">100</span>, <span class="dv">96</span>, <span class="dv">90</span>, <span class="dv">100</span>, <span class="dv">92</span>, <span class="dv">92</span>, <span class="dv">102</span>, <span class="dv">99</span>, <span class="dv">86</span>, <span class="dv">89</span>, <span class="dv">99</span>, <span class="dv">89</span>, <span class="dv">75</span>, <span class="dv">80</span>, </span>
<span id="cb78-5"><a aria-hidden="true" tabindex="-1"></a>             <span class="dv">81</span>, <span class="dv">96</span>, <span class="dv">82</span>, <span class="dv">98</span>, <span class="dv">80</span>, <span class="dv">107</span>, <span class="dv">88</span>)</span>
<span id="cb78-6"><a aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conversion-between-matrices-and-data-frames" class="slide level2">
<h2>Conversion between matrices and data frames</h2>
<div class="column add-space" style="width:35%;">
<p><strong>Matrix to data frame</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="at">nrow=</span><span class="dv">4</span>)</span>
<span id="cb79-2"><a aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb79-3"><a aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3 V4
1  1  5  9 13
2  2  6 10 14
3  3  7 11 15
4  4  8 12 16</code></pre>
</div>
</div>
<p><br></p>
<p><strong>Data frame to matrix</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">as.matrix</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     V1 V2 V3 V4
[1,]  1  5  9 13
[2,]  2  6 10 14
[3,]  3  7 11 15
[4,]  4  8 12 16</code></pre>
</div>
</div>
</div><div class="column" style="width:55%;">
<p><strong>Append column</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df,</span>
<span id="cb83-2"><a aria-hidden="true" tabindex="-1"></a>         <span class="at">id =</span> <span class="fu">c</span>(<span class="st">"first"</span>, <span class="st">"second"</span>, <span class="st">"third"</span>, <span class="st">"fourth"</span>)</span>
<span id="cb83-3"><a aria-hidden="true" tabindex="-1"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Or simply</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"first"</span>, <span class="st">"second"</span>, <span class="st">"third"</span>, <span class="st">"fourth"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>Data frame with character column</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">as.matrix</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     V1  V2  V3   V4   id      
[1,] "1" "5" " 9" "13" "first" 
[2,] "2" "6" "10" "14" "second"
[3,] "3" "7" "11" "15" "third" 
[4,] "4" "8" "12" "16" "fourth"</code></pre>
</div>
</div>
<ul>
<li>all columns are now character</li>
<li>matrix does not support mixed data</li>
</ul>
</div></section>
<section id="selection-of-data-frame-columns" class="slide level2">
<h2>Selection of data frame columns</h2>
<p>Create a data frame from a matrix</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>, <span class="at">nrow=</span><span class="dv">4</span>)</span>
<span id="cb87-2"><a aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span>
<span id="cb87-3"><a aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  V1 V2 V3 V4
1  1  5  9 13
2  2  6 10 14
3  3  7 11 15
4  4  8 12 16</code></pre>
</div>
</div>
<p>Add names to the columns</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"N"</span>, <span class="st">"P"</span>, <span class="st">"O2"</span>, <span class="st">"C"</span>)</span>
<span id="cb89-2"><a aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  N P O2  C
1 1 5  9 13
2 2 6 10 14
3 3 7 11 15
4 4 8 12 16</code></pre>
</div>
</div>
<p>Select 3 columns and change order</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df[<span class="fu">c</span>(<span class="st">"C"</span>, <span class="st">"N"</span>, <span class="st">"P"</span>)]</span>
<span id="cb91-2"><a aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   C N P
1 13 1 5
2 14 2 6
3 15 3 7
4 16 4 8</code></pre>
</div>
</div>
</section>
<section id="data-frame-indexing-like-a-matrix" class="slide level2">
<h2>Data frame indexing like a matrix</h2>
<div class="column add-space" style="width:45%;">
<p>A data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  N P O2  C
1 1 5  9 13
2 2 6 10 14
3 3 7 11 15
4 4 8 12 16</code></pre>
</div>
</div>
<p>A single value</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>Complete column</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
<p>Complete row</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  N P O2  C
2 2 6 10 14</code></pre>
</div>
</div>
</div><div class="column" style="width:45%;">
<p>Conditional selection of rows</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>P <span class="sc">&gt;</span> <span class="dv">6</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  N P O2  C
3 3 7 11 15
4 4 8 12 16</code></pre>
</div>
</div>
<p><br></p>
<p>Differences between <code>[]</code>, <code>[[]]</code> and <code>$</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a aria-hidden="true" tabindex="-1"></a>df[<span class="st">"P"</span>]     <span class="co"># a single column data frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  P
1 5
2 6
3 7
4 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a aria-hidden="true" tabindex="-1"></a>df[[<span class="st">"P"</span>]]   <span class="co"># a vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 7 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>P        <span class="co"># a vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 7 8</code></pre>
</div>
</div>
</div></section></section>
<section>
<section id="lists" class="title-slide slide level1 center">
<h1>Lists</h1>
<ul>
<li>Beginners may skip this section</li>
</ul>
</section>
<section id="lists-1" class="slide level2">
<h2>Lists</h2>
<ul>
<li>most flexible data type in R</li>
<li>can contain arbitrary data objects as <strong>elements</strong> of the list</li>
<li>allows tree-like structure</li>
</ul>
<p><strong>Examples</strong></p>
<ul>
<li>Output of many <strong>R</strong> functions, e.g.&nbsp;return value of <code>hist</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">hist</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">plot=</span><span class="cn">FALSE</span>)</span>
<span id="cb109-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 6
 $ breaks  : num [1:13] -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 ...
 $ counts  : int [1:12] 1 1 3 13 12 14 23 19 4 7 ...
 $ density : num [1:12] 0.02 0.02 0.06 0.26 0.24 0.28 0.46 0.38 0.08 0.14 ...
 $ mids    : num [1:12] -2.75 -2.25 -1.75 -1.25 -0.75 -0.25 0.25 0.75 1.25 1.75 ...
 $ xname   : chr "rnorm(100)"
 $ equidist: logi TRUE
 - attr(*, "class")= chr "histogram"</code></pre>
</div>
</div>
</section>
<section id="creation-of-lists" class="slide level2">
<h2>Creation of lists</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a aria-hidden="true" tabindex="-1"></a>L1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">b=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">x=</span><span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Nested list (lists within a list)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a aria-hidden="true" tabindex="-1"></a>L2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">b=</span>L1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>str</code> shows tree-like structure</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(L2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 2
 $ a: int [1:3] 5 6 7
 $ b:List of 3
  ..$ a: int [1:10] 1 2 3 4 5 6 7 8 9 10
  ..$ b: num [1:3] 1 2 3
  ..$ x: chr "hello"</code></pre>
</div>
</div>
<div class="column" style="width:46%;">
<p>Access to list elements by names</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a aria-hidden="true" tabindex="-1"></a>L2<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a aria-hidden="true" tabindex="-1"></a>L2<span class="sc">$</span>b<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:46%;">
<p>or with indices</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a aria-hidden="true" tabindex="-1"></a>L2[<span class="dv">1</span>]   <span class="co"># a list with 1 element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 5 6 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a aria-hidden="true" tabindex="-1"></a>L2[[<span class="dv">1</span>]] <span class="co"># content of 1st element</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 6 7</code></pre>
</div>
</div>
</div></section>
<section id="lists-ii" class="slide level2">
<h2>Lists II</h2>
<p><br></p>
<p>Convert list to vector</p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">unlist</span>(L2)</span>
<span id="cb123-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Named chr [1:17] "5" "6" "7" "1" "2" "3" "4" "5" "6" "7" "8" "9" "10" "1" ...
 - attr(*, "names")= chr [1:17] "a1" "a2" "a3" "b.a1" ...</code></pre>
</div>
</div>
</div>
<p><br></p>
<p>Flatten list (remove only top level of list)</p>
<div class="bigfont">
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">unlist</span>(L2, <span class="at">recursive =</span> <span class="cn">FALSE</span>)</span>
<span id="cb125-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 6
 $ a1 : int 5
 $ a2 : int 6
 $ a3 : int 7
 $ b.a: int [1:10] 1 2 3 4 5 6 7 8 9 10
 $ b.b: num [1:3] 1 2 3
 $ b.x: chr "hello"</code></pre>
</div>
</div>
</div>
<!---
## Convert lists

::: {.column width="39%" .add-space}
Convert vector to list



::: {.cell}

```{.r .cell-code}
x <- 1:3
L <- as.list(x)
str(L)
```

::: {.cell-output .cell-output-stdout}

```
List of 3
 $ : int 1
 $ : int 2
 $ : int 3
```


:::
:::



:::
--->
</section>
<section id="naming-of-list-elements" class="slide level2">
<h2>Naming of list elements</h2>
<p><strong>During creation</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a=</span><span class="fl">1.2</span>, <span class="at">b=</span><span class="fl">2.3</span>, <span class="at">c=</span><span class="dv">6</span>)</span>
<span id="cb127-2"><a aria-hidden="true" tabindex="-1"></a>L <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b=</span><span class="st">"hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>With <code>names</code>-function</strong></p>
<p>Original names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b"</code></pre>
</div>
</div>
<p>Rename list elements:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(L) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"numbers"</span>, <span class="st">"text"</span>)</span>
<span id="cb130-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numbers" "text"   </code></pre>
</div>
</div>
<p>The <code>names</code>-functions works also with vectors. The pre-defined vectors <code>letters</code> contains lower case and <code>LETTERS</code> uppercase letters:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb132-2"><a aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb132-3"><a aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a b c d e 
1 2 3 4 5 </code></pre>
</div>
</div>
</section>
<section id="apply-a-function-to-multiple-rows-and-columns" class="slide level2">
<h2>Apply a function to multiple rows and columns</h2>
<div class="column" style="width:44%;">
<p>Example data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a aria-hidden="true" tabindex="-1"></a>df  <span class="co"># data frame of previous slide</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  N P O2  C
1 1 5  9 13
2 2 6 10 14
3 3 7 11 15
4 4 8 12 16</code></pre>
</div>
</div>
<p>Apply a function to all elements of a list</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(df, mean)  <span class="co"># returns list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$N
[1] 2.5

$P
[1] 6.5

$O2
[1] 10.5

$C
[1] 14.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(df, mean)  <span class="co"># returns vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   N    P   O2    C 
 2.5  6.5 10.5 14.5 </code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:44%;">
<p>Row wise apply</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(df, <span class="at">MARGIN =</span> <span class="dv">1</span>, sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28 32 36 40</code></pre>
</div>
</div>
<p>Column wise apply</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(df, <span class="at">MARGIN =</span> <span class="dv">2</span>, sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> N  P O2  C 
10 26 42 58 </code></pre>
</div>
</div>
<p>Apply user defined function</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a aria-hidden="true" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="cf">function</span>(x)</span>
<span id="cb144-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">sd</span>(x)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(x))</span>
<span id="cb144-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-4"><a aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(df, se)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     N      P     O2      C 
0.6455 0.6455 0.6455 0.6455 </code></pre>
</div>
</div>
</div></section></section>
<section>
<section id="loops-and-conditional-execution" class="title-slide slide level1 center">
<h1>Loops and conditional execution</h1>

</section>
<section id="for-loop" class="slide level2">
<h2><code>for</code>-loop</h2>
<p>A simple <code>for</code>-loop</p>
<div class="{bigfont}">
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb146-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(i, <span class="dv">2</span><span class="sc">*</span>i, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb146-3"><a aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 2 
2 4 
3 6 
4 8 </code></pre>
</div>
</div>
</div>
<p>Nested for-loops</p>
<div class="{bigfont}">
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb148-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)) {</span>
<span id="cb148-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(i, i<span class="sc">*</span>j, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb148-4"><a aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb148-5"><a aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 1 
1 3 
1 5 
2 2 
2 6 
2 10 
3 3 
3 9 
3 15 </code></pre>
</div>
</div>
</div>
</section>
<section id="repeat-and-while-loops" class="slide level2">
<h2><code>repeat</code> and <code>while</code>-loops</h2>
<p>Repeat until a <code>break</code> condition occurs</p>
<div class="{bigfont}">
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb150-2"><a aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb150-3"><a aria-hidden="true" tabindex="-1"></a> x <span class="ot">&lt;-</span> <span class="fl">0.1</span><span class="sc">*</span>x</span>
<span id="cb150-4"><a aria-hidden="true" tabindex="-1"></a> <span class="fu">cat</span>(x, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb150-5"><a aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="fl">1e-4</span>) <span class="cf">break</span></span>
<span id="cb150-6"><a aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.1 
0.01 
0.001 
1e-04 
1e-05 </code></pre>
</div>
</div>
<p>Loop as long as a <code>while</code>condition is <code>TRUE</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> <span class="dv">1</span>; x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb152-2"><a aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (j <span class="sc">&gt;</span> <span class="fl">1e-3</span>) {</span>
<span id="cb152-3"><a aria-hidden="true" tabindex="-1"></a>  j <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="sc">*</span> j</span>
<span id="cb152-4"><a aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> j</span>
<span id="cb152-5"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(j, x, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb152-6"><a aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.1 0.1 
0.01 0.11 
0.001 0.111 
1e-04 0.1111 </code></pre>
</div>
</div>
</div>
<p>In many cases, loops can be avoided by using vectors and matrices or <code>apply</code>.</p>
</section>
<section id="avoidable-loops" class="slide level2">
<h2>Avoidable loops</h2>
<div class="column" style="width:44%;">
<p>Column means of a data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a aria-hidden="true" tabindex="-1"></a><span class="do">## a data frame</span></span>
<span id="cb154-2"><a aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb154-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">N=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">P=</span><span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">O2=</span><span class="dv">9</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">C=</span><span class="dv">13</span><span class="sc">:</span><span class="dv">16</span></span>
<span id="cb154-4"><a aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb154-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-6"><a aria-hidden="true" tabindex="-1"></a><span class="do">## loop</span></span>
<span id="cb154-7"><a aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="dv">4</span>)</span>
<span id="cb154-8"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb154-9"><a aria-hidden="true" tabindex="-1"></a> m[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(df[,i])</span>
<span id="cb154-10"><a aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb154-11"><a aria-hidden="true" tabindex="-1"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.5  6.5 10.5 14.5</code></pre>
</div>
</div>
<p><span class="math inline">\(\rightarrow\)</span> easier without loop</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(df, mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   N    P   O2    C 
 2.5  6.5 10.5 14.5 </code></pre>
</div>
</div>
<p>… also possible <code>colMeans</code></p>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:44%;">
<p>An infinite series:</p>
<p><span class="math display">\[
\sum_{k=1}^{\infty}\frac{(-1)^{k-1}}{2k-1} = 1 - \frac{1}{3} + \frac{1}{5} - \frac{1}{7}
\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb158-2"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fl">1e5</span>)) {</span>
<span id="cb158-3"><a aria-hidden="true" tabindex="-1"></a>  enum  <span class="ot">&lt;-</span> (<span class="sc">-</span><span class="dv">1</span>)<span class="sc">^</span>(k<span class="dv">-1</span>)</span>
<span id="cb158-4"><a aria-hidden="true" tabindex="-1"></a>  denom <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>k<span class="dv">-1</span></span>
<span id="cb158-5"><a aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> enum<span class="sc">/</span>denom</span>
<span id="cb158-6"><a aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb158-7"><a aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">*</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.141583</code></pre>
</div>
</div>
<p><span class="math inline">\(\Rightarrow\)</span> Can you vectorize this?</p>
</div></section>
<section id="unavoidable-loop" class="slide level2">
<h2>Unavoidable loop</h2>
<p>The same series:</p>
<p><span class="math display">\[
\sum_{k=1}^{\infty}\frac{(-1)^{k-1}}{2k-1} = 1 - \frac{1}{3} + \frac{1}{5} - \frac{1}{7}
\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb160-2"><a aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb160-3"><a aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb160-4"><a aria-hidden="true" tabindex="-1"></a>  k <span class="ot">&lt;-</span> k <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb160-5"><a aria-hidden="true" tabindex="-1"></a>  enum  <span class="ot">&lt;-</span> (<span class="sc">-</span><span class="dv">1</span>)<span class="sc">^</span>(k<span class="dv">-1</span>)</span>
<span id="cb160-6"><a aria-hidden="true" tabindex="-1"></a>  denom <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>k<span class="dv">-1</span></span>
<span id="cb160-7"><a aria-hidden="true" tabindex="-1"></a>  delta <span class="ot">&lt;-</span> enum<span class="sc">/</span>denom</span>
<span id="cb160-8"><a aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> delta</span>
<span id="cb160-9"><a aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">abs</span>(delta) <span class="sc">&lt;</span> <span class="fl">1e-6</span>) <span class="cf">break</span></span>
<span id="cb160-10"><a aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb160-11"><a aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">*</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.141595</code></pre>
</div>
</div>
<ul>
<li>number of iterations not known in advance</li>
<li>convergence criterium, stop when required precision is reached</li>
<li>no allocation of long vectors –&gt; less memory than for loop</li>
</ul>

<aside><div>
<p>Note: there are more efficient methods to calculate <span class="math inline">\(\pi\)</span>.</p>
</div></aside></section></section>
<section>
<section id="conditional-execution" class="title-slide slide level1 center">
<h1>Conditional execution</h1>

</section>
<section id="if-clause" class="slide level2">
<h2>if-clause</h2>
<div class="column" style="width:44%;">
<p>The example before showed already an <code>if</code>-clause. The syntax is as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">&lt;</span>condition<span class="sc">&gt;</span>)</span>
<span id="cb162-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>statement<span class="sc">&gt;</span></span>
<span id="cb162-3"><a aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="cf">if</span> (<span class="sc">&lt;</span>condition<span class="sc">&gt;</span>)</span>
<span id="cb162-4"><a aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>statement<span class="sc">&gt;</span></span>
<span id="cb162-5"><a aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb162-6"><a aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>statement<span class="sc">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Proper indentation improves readability.</li>
<li>Recommended: <span class="darkred">2</span> characters</li>
<li>Professionals indent always.</li>
<li>Please do!</li>
</ul>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:44%;">
<p>Use of <span class="red"><code>{}</code></span> to group statements</p>
<ul>
<li><code>statement</code> can of be a compound statement with curly brackets <code>{}</code></li>
<li>to avoid common mistakes and be on the safe side, use always <code>{}</code>:</li>
</ul>
<p>Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb163-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is Null"</span>)</span>
<span id="cb163-3"><a aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb163-4"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is negative"</span>)</span>
<span id="cb163-5"><a aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb163-6"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is positive"</span>)</span>
<span id="cb163-7"><a aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></section>
<section id="vectorized-if" class="slide level2">
<h2>Vectorized if</h2>
<p>Often, a vectorized <code>ifelse</code> is more appropropriate than an <code>if</code>-function.</p>
<p>Let’s assume we have a data set of chemical measurements <code>x</code> with missing <code>NA</code> values, and “nondetects” that are encoded with <code>-99</code>. First we want to replace the nontetects with half of the detection limit (e.g.&nbsp;0.5):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="dv">7</span>, <span class="cn">NA</span>,  <span class="dv">8</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="sc">-</span><span class="dv">99</span>, <span class="dv">9</span>)</span>
<span id="cb164-2"><a aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(x <span class="sc">==</span> <span class="sc">-</span><span class="dv">99</span>, <span class="fl">0.5</span>, x)</span>
<span id="cb164-3"><a aria-hidden="true" tabindex="-1"></a>x2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3.0 6.0  NA 5.0 4.0 0.5 7.0  NA 8.0 0.5 0.5 9.0</code></pre>
</div>
</div>
<p>Now let’s remove the <code>NA</code>s:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(x2)</span>
<span id="cb166-2"><a aria-hidden="true" tabindex="-1"></a>x3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3.0 6.0 5.0 4.0 0.5 7.0 8.0 0.5 0.5 9.0
attr(,"na.action")
[1] 3 8
attr(,"class")
[1] "omit"</code></pre>
</div>
</div>
</section>
<section id="further-reading" class="slide level2">
<h2>Further reading</h2>
<p><br></p>
<p>Follow-up presentations:</p>
<ul>
<li><a href="x3-r-functions.html">Functions everywhere</a></li>
<li><a href="x2-r-graphics.html">Graphics in R</a></li>
</ul>
<p>More details in the official R manuals, especially in “<a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html"><strong>An Introduction to R</strong></a>”</p>
<p>Many videos can be found on <a href="https://www.youtube.com">Youtube</a>, at the <a href="https://https://posit.co">Posit</a> webpage and somewhere else.</p>
<p>This tutorial was made with <a href="https://quarto.org/">Quarto</a></p>
<p>Author: tpetzoldt +++ <a href="https://www.tu-dresden.de/Members/thomas.petzoldt">Homepage</a> +++ <a href="https://tpetzoldt.github.io">Github page</a></p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><span style="color: white; font-size: small; font-weight:400; float: right; margin-top: 40px; margin-right: 4%;"> <a href="../">🏠 Home</a> </span></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>